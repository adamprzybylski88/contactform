module.exports = (colorsObj) => {
	let colorsObjLen = colorsObj.length,
		replaceColor;

	let func = new Transform({
		transform(chunk, encoding, callback) {

			let stringChunk = String(chunk);

			for (let i = 0; i < colorsObjLen; i++) {
				stringChunk = stringChunk.replace( new RegExp(colorsObj[i].baseColor, 'g'), colorsObj[i].newColor )
			}
			
			chunk = new Buffer(stringChunk, 'utf8')

			this.push(chunk);
			callback();
		}
	});

	return func
}